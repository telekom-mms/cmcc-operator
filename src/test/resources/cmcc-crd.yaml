# Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
apiVersion: "apiextensions.k8s.io/v1"
kind: "CustomResourceDefinition"
metadata:
  name: "coremediacontentclouds.cmcc.tsystemsmms.com"
spec:
  group: "cmcc.tsystemsmms.com"
  names:
    kind: "CoreMediaContentCloud"
    plural: "coremediacontentclouds"
    shortNames:
    - "cmcc"
    - "coremedia"
    singular: "coremediacontentcloud"
  scope: "Namespaced"
  versions:
  - additionalPrinterColumns:
    - description: "Currently successfully deployed and running version (set on milestone\
        \ Ready)"
      jsonPath: ".status.currentVersion"
      name: "VERSION"
      priority: 1
      type: "string"
    - description: "Error indication, or empty string"
      jsonPath: ".status.error"
      name: "ERROR"
      priority: 0
      type: "string"
    - description: "Which milestone has been reached in configuring all components"
      jsonPath: ".status.milestone"
      name: "MILESTONE"
      priority: 0
      type: "string"
    - jsonPath: ".status.scaledMessage"
      name: "SCALED"
      priority: 1
      type: "string"
    name: "v2"
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              clientSecretRefs:
                additionalProperties:
                  additionalProperties:
                    properties:
                      driverKey:
                        description: "entry in the secret for the driver class or\
                          \ name"
                        type: "string"
                      hostnameKey:
                        description: "entry in the secret for hostname of the server"
                        type: "string"
                      passwordKey:
                        description: "entry in the secret for the password to authenticate\
                          \ with"
                        type: "string"
                      schemaKey:
                        description: "entry in the secret for the schema, database\
                          \ or service to use"
                        type: "string"
                      secretName:
                        description: "resource name of the secret"
                        type: "string"
                      urlKey:
                        description: "entry in the secret for the url to connect to"
                        type: "string"
                      usernameKey:
                        description: "entry in the secret for the username to authenticate\
                          \ with"
                        type: "string"
                    type: "object"
                  type: "object"
                description: "References to existing secrets for components connecting\
                  \ as clients to services"
                type: "object"
              comment:
                description: "An arbitrary comment; can be used to force an update\
                  \ to the object"
                type: "string"
              components:
                description: "List of components (CMS, Solr, CAE, etc.)"
                items:
                  properties:
                    affinity:
                      description: "Overriding Affinity rules for a pod"
                      properties:
                        nodeAffinity:
                          properties:
                            preferredDuringSchedulingIgnoredDuringExecution:
                              items:
                                properties:
                                  preference:
                                    properties:
                                      matchExpressions:
                                        items:
                                          properties:
                                            key:
                                              type: "string"
                                            operator:
                                              type: "string"
                                            values:
                                              items:
                                                type: "string"
                                              type: "array"
                                          type: "object"
                                        type: "array"
                                      matchFields:
                                        items:
                                          properties:
                                            key:
                                              type: "string"
                                            operator:
                                              type: "string"
                                            values:
                                              items:
                                                type: "string"
                                              type: "array"
                                          type: "object"
                                        type: "array"
                                    type: "object"
                                  weight:
                                    type: "integer"
                                type: "object"
                              type: "array"
                            requiredDuringSchedulingIgnoredDuringExecution:
                              properties:
                                nodeSelectorTerms:
                                  items:
                                    properties:
                                      matchExpressions:
                                        items:
                                          properties:
                                            key:
                                              type: "string"
                                            operator:
                                              type: "string"
                                            values:
                                              items:
                                                type: "string"
                                              type: "array"
                                          type: "object"
                                        type: "array"
                                      matchFields:
                                        items:
                                          properties:
                                            key:
                                              type: "string"
                                            operator:
                                              type: "string"
                                            values:
                                              items:
                                                type: "string"
                                              type: "array"
                                          type: "object"
                                        type: "array"
                                    type: "object"
                                  type: "array"
                              type: "object"
                          type: "object"
                        podAffinity:
                          properties:
                            preferredDuringSchedulingIgnoredDuringExecution:
                              items:
                                properties:
                                  podAffinityTerm:
                                    properties:
                                      labelSelector:
                                        properties:
                                          matchExpressions:
                                            items:
                                              properties:
                                                key:
                                                  type: "string"
                                                operator:
                                                  type: "string"
                                                values:
                                                  items:
                                                    type: "string"
                                                  type: "array"
                                              type: "object"
                                            type: "array"
                                          matchLabels:
                                            additionalProperties:
                                              type: "string"
                                            type: "object"
                                        type: "object"
                                      matchLabelKeys:
                                        items:
                                          type: "string"
                                        type: "array"
                                      mismatchLabelKeys:
                                        items:
                                          type: "string"
                                        type: "array"
                                      namespaceSelector:
                                        properties:
                                          matchExpressions:
                                            items:
                                              properties:
                                                key:
                                                  type: "string"
                                                operator:
                                                  type: "string"
                                                values:
                                                  items:
                                                    type: "string"
                                                  type: "array"
                                              type: "object"
                                            type: "array"
                                          matchLabels:
                                            additionalProperties:
                                              type: "string"
                                            type: "object"
                                        type: "object"
                                      namespaces:
                                        items:
                                          type: "string"
                                        type: "array"
                                      topologyKey:
                                        type: "string"
                                    type: "object"
                                  weight:
                                    type: "integer"
                                type: "object"
                              type: "array"
                            requiredDuringSchedulingIgnoredDuringExecution:
                              items:
                                properties:
                                  labelSelector:
                                    properties:
                                      matchExpressions:
                                        items:
                                          properties:
                                            key:
                                              type: "string"
                                            operator:
                                              type: "string"
                                            values:
                                              items:
                                                type: "string"
                                              type: "array"
                                          type: "object"
                                        type: "array"
                                      matchLabels:
                                        additionalProperties:
                                          type: "string"
                                        type: "object"
                                    type: "object"
                                  matchLabelKeys:
                                    items:
                                      type: "string"
                                    type: "array"
                                  mismatchLabelKeys:
                                    items:
                                      type: "string"
                                    type: "array"
                                  namespaceSelector:
                                    properties:
                                      matchExpressions:
                                        items:
                                          properties:
                                            key:
                                              type: "string"
                                            operator:
                                              type: "string"
                                            values:
                                              items:
                                                type: "string"
                                              type: "array"
                                          type: "object"
                                        type: "array"
                                      matchLabels:
                                        additionalProperties:
                                          type: "string"
                                        type: "object"
                                    type: "object"
                                  namespaces:
                                    items:
                                      type: "string"
                                    type: "array"
                                  topologyKey:
                                    type: "string"
                                type: "object"
                              type: "array"
                          type: "object"
                        podAntiAffinity:
                          properties:
                            preferredDuringSchedulingIgnoredDuringExecution:
                              items:
                                properties:
                                  podAffinityTerm:
                                    properties:
                                      labelSelector:
                                        properties:
                                          matchExpressions:
                                            items:
                                              properties:
                                                key:
                                                  type: "string"
                                                operator:
                                                  type: "string"
                                                values:
                                                  items:
                                                    type: "string"
                                                  type: "array"
                                              type: "object"
                                            type: "array"
                                          matchLabels:
                                            additionalProperties:
                                              type: "string"
                                            type: "object"
                                        type: "object"
                                      matchLabelKeys:
                                        items:
                                          type: "string"
                                        type: "array"
                                      mismatchLabelKeys:
                                        items:
                                          type: "string"
                                        type: "array"
                                      namespaceSelector:
                                        properties:
                                          matchExpressions:
                                            items:
                                              properties:
                                                key:
                                                  type: "string"
                                                operator:
                                                  type: "string"
                                                values:
                                                  items:
                                                    type: "string"
                                                  type: "array"
                                              type: "object"
                                            type: "array"
                                          matchLabels:
                                            additionalProperties:
                                              type: "string"
                                            type: "object"
                                        type: "object"
                                      namespaces:
                                        items:
                                          type: "string"
                                        type: "array"
                                      topologyKey:
                                        type: "string"
                                    type: "object"
                                  weight:
                                    type: "integer"
                                type: "object"
                              type: "array"
                            requiredDuringSchedulingIgnoredDuringExecution:
                              items:
                                properties:
                                  labelSelector:
                                    properties:
                                      matchExpressions:
                                        items:
                                          properties:
                                            key:
                                              type: "string"
                                            operator:
                                              type: "string"
                                            values:
                                              items:
                                                type: "string"
                                              type: "array"
                                          type: "object"
                                        type: "array"
                                      matchLabels:
                                        additionalProperties:
                                          type: "string"
                                        type: "object"
                                    type: "object"
                                  matchLabelKeys:
                                    items:
                                      type: "string"
                                    type: "array"
                                  mismatchLabelKeys:
                                    items:
                                      type: "string"
                                    type: "array"
                                  namespaceSelector:
                                    properties:
                                      matchExpressions:
                                        items:
                                          properties:
                                            key:
                                              type: "string"
                                            operator:
                                              type: "string"
                                            values:
                                              items:
                                                type: "string"
                                              type: "array"
                                          type: "object"
                                        type: "array"
                                      matchLabels:
                                        additionalProperties:
                                          type: "string"
                                        type: "object"
                                    type: "object"
                                  namespaces:
                                    items:
                                      type: "string"
                                    type: "array"
                                  topologyKey:
                                    type: "string"
                                type: "object"
                              type: "array"
                          type: "object"
                      type: "object"
                    annotations:
                      additionalProperties:
                        type: "string"
                      description: "Additional annotations"
                      type: "object"
                    args:
                      description: "Args for the main pod container"
                      items:
                        type: "string"
                      type: "array"
                    env:
                      description: "Additional environment variables"
                      items:
                        properties:
                          name:
                            type: "string"
                          value:
                            type: "string"
                          valueFrom:
                            properties:
                              configMapKeyRef:
                                properties:
                                  key:
                                    type: "string"
                                  name:
                                    type: "string"
                                  optional:
                                    type: "boolean"
                                type: "object"
                              fieldRef:
                                properties:
                                  apiVersion:
                                    type: "string"
                                  fieldPath:
                                    type: "string"
                                type: "object"
                              resourceFieldRef:
                                properties:
                                  containerName:
                                    type: "string"
                                  divisor:
                                    anyOf:
                                    - type: "integer"
                                    - type: "string"
                                    x-kubernetes-int-or-string: true
                                  resource:
                                    type: "string"
                                type: "object"
                              secretKeyRef:
                                properties:
                                  key:
                                    type: "string"
                                  name:
                                    type: "string"
                                  optional:
                                    type: "boolean"
                                type: "object"
                            type: "object"
                        type: "object"
                      type: "array"
                    extra:
                      additionalProperties:
                        type: "string"
                      description: "Extra parameters (depends on component)"
                      type: "object"
                    forceMls:
                      description: "Forces to use MLS over RLS when set to true"
                      type: "boolean"
                    image:
                      description: "Image for main pod' main container"
                      properties:
                        pullPolicy:
                          description: "Image pull policy (default 'IfNotPresent')"
                          type: "string"
                        registry:
                          description: "Image registry (default 'coremedia')"
                          type: "string"
                        repository:
                          description: "Image repository (default differs between\
                            \ components)"
                          type: "string"
                        tag:
                          description: "Image tag (default 'latest')"
                          type: "string"
                      type: "object"
                    kind:
                      description: "Sub-type ('cms' or 'mls', or 'master' and 'replica',\
                        \ or 'preview' and 'live')"
                      type: "string"
                    milestone:
                      description: "Make available with this milestone"
                      enum:
                      - "ContentServerInitialized"
                      - "ContentServerReady"
                      - "DatabasesReady"
                      - "DeliveryServicesReady"
                      - "DeploymentStarted"
                      - "Healing"
                      - "ManagementReady"
                      - "Never"
                      - "Ready"
                      - "RunJob"
                      type: "string"
                    name:
                      description: "Name to be used for k8s objects"
                      type: "string"
                    podSecurityContext:
                      description: "Security context for a pod"
                      properties:
                        appArmorProfile:
                          properties:
                            localhostProfile:
                              type: "string"
                            type:
                              type: "string"
                          type: "object"
                        fsGroup:
                          type: "integer"
                        fsGroupChangePolicy:
                          type: "string"
                        runAsGroup:
                          type: "integer"
                        runAsNonRoot:
                          type: "boolean"
                        runAsUser:
                          type: "integer"
                        seLinuxChangePolicy:
                          type: "string"
                        seLinuxOptions:
                          properties:
                            level:
                              type: "string"
                            role:
                              type: "string"
                            type:
                              type: "string"
                            user:
                              type: "string"
                          type: "object"
                        seccompProfile:
                          properties:
                            localhostProfile:
                              type: "string"
                            type:
                              type: "string"
                          type: "object"
                        supplementalGroups:
                          items:
                            type: "integer"
                          type: "array"
                        supplementalGroupsPolicy:
                          type: "string"
                        sysctls:
                          items:
                            properties:
                              name:
                                type: "string"
                              value:
                                type: "string"
                            type: "object"
                          type: "array"
                        windowsOptions:
                          properties:
                            gmsaCredentialSpec:
                              type: "string"
                            gmsaCredentialSpecName:
                              type: "string"
                            hostProcess:
                              type: "boolean"
                            runAsUserName:
                              type: "string"
                          type: "object"
                      type: "object"
                    resources:
                      description: "Resource management (limits, requests)"
                      properties:
                        limits:
                          additionalProperties:
                            type: "string"
                          description: "Limits to resources for this components pods"
                          type: "object"
                        requests:
                          additionalProperties:
                            type: "string"
                          description: "Requests for resources for this components\
                            \ pods"
                          type: "object"
                      type: "object"
                    schemas:
                      additionalProperties:
                        type: "string"
                      description: "Schema names for JDBC, MongoDB, and/or UAPI"
                      type: "object"
                    securityContext:
                      description: "Security context for containers in a pod"
                      properties:
                        allowPrivilegeEscalation:
                          type: "boolean"
                        appArmorProfile:
                          properties:
                            localhostProfile:
                              type: "string"
                            type:
                              type: "string"
                          type: "object"
                        capabilities:
                          properties:
                            add:
                              items:
                                type: "string"
                              type: "array"
                            drop:
                              items:
                                type: "string"
                              type: "array"
                          type: "object"
                        privileged:
                          type: "boolean"
                        procMount:
                          type: "string"
                        readOnlyRootFilesystem:
                          type: "boolean"
                        runAsGroup:
                          type: "integer"
                        runAsNonRoot:
                          type: "boolean"
                        runAsUser:
                          type: "integer"
                        seLinuxOptions:
                          properties:
                            level:
                              type: "string"
                            role:
                              type: "string"
                            type:
                              type: "string"
                            user:
                              type: "string"
                          type: "object"
                        seccompProfile:
                          properties:
                            localhostProfile:
                              type: "string"
                            type:
                              type: "string"
                          type: "object"
                        windowsOptions:
                          properties:
                            gmsaCredentialSpec:
                              type: "string"
                            gmsaCredentialSpecName:
                              type: "string"
                            hostProcess:
                              type: "boolean"
                            runAsUserName:
                              type: "string"
                          type: "object"
                      type: "object"
                    timeouts:
                      description: "Health probe timeouts for a pod"
                      properties:
                        live:
                          description: "Timeout in seconds for liveness"
                          type: "integer"
                        ready:
                          description: "Timeout in seconds for readiness"
                          type: "integer"
                        startup:
                          description: "Timeout in seconds for startup"
                          type: "integer"
                      type: "object"
                    type:
                      description: "Type of the component"
                      type: "string"
                    volumeMounts:
                      description: "Additional volume mounts for a pod"
                      items:
                        properties:
                          mountPath:
                            type: "string"
                          mountPropagation:
                            type: "string"
                          name:
                            type: "string"
                          readOnly:
                            type: "boolean"
                          recursiveReadOnly:
                            type: "string"
                          subPath:
                            type: "string"
                          subPathExpr:
                            type: "string"
                        type: "object"
                      type: "array"
                    volumeSize:
                      description: "Size of persistent data/cache volumes"
                      properties:
                        data:
                          description: "Size of data volume, in k8s quantity"
                          type: "string"
                        mongoDbData:
                          description: "DEPRECATED. Size of MongoDb data volume, in\
                            \ k8s quantity"
                          type: "string"
                        mysqlData:
                          description: "DEPRECATED. Size of MySQL data volume, in\
                            \ k8s quantity"
                          type: "string"
                        solrData:
                          description: "DEPRECATED. Size of Solr data volume, in k8s\
                            \ quantity"
                          type: "string"
                        transformedBlobCache:
                          description: "Size of transformed BLOB cache, in k8s quantity"
                          type: "string"
                        uapiBlobCache:
                          description: "Size of UAPI BLOB cache, in k8s quantity"
                          type: "string"
                      type: "object"
                    volumes:
                      description: "Additional volumes for a pod"
                      items:
                        properties:
                          awsElasticBlockStore:
                            properties:
                              fsType:
                                type: "string"
                              partition:
                                type: "integer"
                              readOnly:
                                type: "boolean"
                              volumeID:
                                type: "string"
                            type: "object"
                          azureDisk:
                            properties:
                              cachingMode:
                                type: "string"
                              diskName:
                                type: "string"
                              diskURI:
                                type: "string"
                              fsType:
                                type: "string"
                              kind:
                                type: "string"
                              readOnly:
                                type: "boolean"
                            type: "object"
                          azureFile:
                            properties:
                              readOnly:
                                type: "boolean"
                              secretName:
                                type: "string"
                              shareName:
                                type: "string"
                            type: "object"
                          cephfs:
                            properties:
                              monitors:
                                items:
                                  type: "string"
                                type: "array"
                              path:
                                type: "string"
                              readOnly:
                                type: "boolean"
                              secretFile:
                                type: "string"
                              secretRef:
                                properties:
                                  name:
                                    type: "string"
                                type: "object"
                              user:
                                type: "string"
                            type: "object"
                          cinder:
                            properties:
                              fsType:
                                type: "string"
                              readOnly:
                                type: "boolean"
                              secretRef:
                                properties:
                                  name:
                                    type: "string"
                                type: "object"
                              volumeID:
                                type: "string"
                            type: "object"
                          configMap:
                            properties:
                              defaultMode:
                                type: "integer"
                              items:
                                items:
                                  properties:
                                    key:
                                      type: "string"
                                    mode:
                                      type: "integer"
                                    path:
                                      type: "string"
                                  type: "object"
                                type: "array"
                              name:
                                type: "string"
                              optional:
                                type: "boolean"
                            type: "object"
                          csi:
                            properties:
                              driver:
                                type: "string"
                              fsType:
                                type: "string"
                              nodePublishSecretRef:
                                properties:
                                  name:
                                    type: "string"
                                type: "object"
                              readOnly:
                                type: "boolean"
                              volumeAttributes:
                                additionalProperties:
                                  type: "string"
                                type: "object"
                            type: "object"
                          downwardAPI:
                            properties:
                              defaultMode:
                                type: "integer"
                              items:
                                items:
                                  properties:
                                    fieldRef:
                                      properties:
                                        apiVersion:
                                          type: "string"
                                        fieldPath:
                                          type: "string"
                                      type: "object"
                                    mode:
                                      type: "integer"
                                    path:
                                      type: "string"
                                    resourceFieldRef:
                                      properties:
                                        containerName:
                                          type: "string"
                                        divisor:
                                          anyOf:
                                          - type: "integer"
                                          - type: "string"
                                          x-kubernetes-int-or-string: true
                                        resource:
                                          type: "string"
                                      type: "object"
                                  type: "object"
                                type: "array"
                            type: "object"
                          emptyDir:
                            properties:
                              medium:
                                type: "string"
                              sizeLimit:
                                anyOf:
                                - type: "integer"
                                - type: "string"
                                x-kubernetes-int-or-string: true
                            type: "object"
                          ephemeral:
                            properties:
                              volumeClaimTemplate:
                                properties:
                                  metadata:
                                    properties:
                                      annotations:
                                        additionalProperties:
                                          type: "string"
                                        type: "object"
                                      creationTimestamp:
                                        type: "string"
                                      deletionGracePeriodSeconds:
                                        type: "integer"
                                      deletionTimestamp:
                                        type: "string"
                                      finalizers:
                                        items:
                                          type: "string"
                                        type: "array"
                                      generateName:
                                        type: "string"
                                      generation:
                                        type: "integer"
                                      labels:
                                        additionalProperties:
                                          type: "string"
                                        type: "object"
                                      managedFields:
                                        items:
                                          properties:
                                            apiVersion:
                                              type: "string"
                                            fieldsType:
                                              type: "string"
                                            fieldsV1:
                                              type: "object"
                                            manager:
                                              type: "string"
                                            operation:
                                              type: "string"
                                            subresource:
                                              type: "string"
                                            time:
                                              type: "string"
                                          type: "object"
                                        type: "array"
                                      name:
                                        type: "string"
                                      namespace:
                                        type: "string"
                                      ownerReferences:
                                        items:
                                          properties:
                                            apiVersion:
                                              type: "string"
                                            blockOwnerDeletion:
                                              type: "boolean"
                                            controller:
                                              type: "boolean"
                                            kind:
                                              type: "string"
                                            name:
                                              type: "string"
                                            uid:
                                              type: "string"
                                          type: "object"
                                        type: "array"
                                      resourceVersion:
                                        type: "string"
                                      selfLink:
                                        type: "string"
                                      uid:
                                        type: "string"
                                    type: "object"
                                  spec:
                                    properties:
                                      accessModes:
                                        items:
                                          type: "string"
                                        type: "array"
                                      dataSource:
                                        properties:
                                          apiGroup:
                                            type: "string"
                                          kind:
                                            type: "string"
                                          name:
                                            type: "string"
                                        type: "object"
                                      dataSourceRef:
                                        properties:
                                          apiGroup:
                                            type: "string"
                                          kind:
                                            type: "string"
                                          name:
                                            type: "string"
                                          namespace:
                                            type: "string"
                                        type: "object"
                                      resources:
                                        properties:
                                          limits:
                                            additionalProperties:
                                              anyOf:
                                              - type: "integer"
                                              - type: "string"
                                              x-kubernetes-int-or-string: true
                                            type: "object"
                                          requests:
                                            additionalProperties:
                                              anyOf:
                                              - type: "integer"
                                              - type: "string"
                                              x-kubernetes-int-or-string: true
                                            type: "object"
                                        type: "object"
                                      selector:
                                        properties:
                                          matchExpressions:
                                            items:
                                              properties:
                                                key:
                                                  type: "string"
                                                operator:
                                                  type: "string"
                                                values:
                                                  items:
                                                    type: "string"
                                                  type: "array"
                                              type: "object"
                                            type: "array"
                                          matchLabels:
                                            additionalProperties:
                                              type: "string"
                                            type: "object"
                                        type: "object"
                                      storageClassName:
                                        type: "string"
                                      volumeAttributesClassName:
                                        type: "string"
                                      volumeMode:
                                        type: "string"
                                      volumeName:
                                        type: "string"
                                    type: "object"
                                type: "object"
                            type: "object"
                          fc:
                            properties:
                              fsType:
                                type: "string"
                              lun:
                                type: "integer"
                              readOnly:
                                type: "boolean"
                              targetWWNs:
                                items:
                                  type: "string"
                                type: "array"
                              wwids:
                                items:
                                  type: "string"
                                type: "array"
                            type: "object"
                          flexVolume:
                            properties:
                              driver:
                                type: "string"
                              fsType:
                                type: "string"
                              options:
                                additionalProperties:
                                  type: "string"
                                type: "object"
                              readOnly:
                                type: "boolean"
                              secretRef:
                                properties:
                                  name:
                                    type: "string"
                                type: "object"
                            type: "object"
                          flocker:
                            properties:
                              datasetName:
                                type: "string"
                              datasetUUID:
                                type: "string"
                            type: "object"
                          gcePersistentDisk:
                            properties:
                              fsType:
                                type: "string"
                              partition:
                                type: "integer"
                              pdName:
                                type: "string"
                              readOnly:
                                type: "boolean"
                            type: "object"
                          gitRepo:
                            properties:
                              directory:
                                type: "string"
                              repository:
                                type: "string"
                              revision:
                                type: "string"
                            type: "object"
                          glusterfs:
                            properties:
                              endpoints:
                                type: "string"
                              path:
                                type: "string"
                              readOnly:
                                type: "boolean"
                            type: "object"
                          hostPath:
                            properties:
                              path:
                                type: "string"
                              type:
                                type: "string"
                            type: "object"
                          image:
                            properties:
                              pullPolicy:
                                type: "string"
                              reference:
                                type: "string"
                            type: "object"
                          iscsi:
                            properties:
                              chapAuthDiscovery:
                                type: "boolean"
                              chapAuthSession:
                                type: "boolean"
                              fsType:
                                type: "string"
                              initiatorName:
                                type: "string"
                              iqn:
                                type: "string"
                              iscsiInterface:
                                type: "string"
                              lun:
                                type: "integer"
                              portals:
                                items:
                                  type: "string"
                                type: "array"
                              readOnly:
                                type: "boolean"
                              secretRef:
                                properties:
                                  name:
                                    type: "string"
                                type: "object"
                              targetPortal:
                                type: "string"
                            type: "object"
                          name:
                            type: "string"
                          nfs:
                            properties:
                              path:
                                type: "string"
                              readOnly:
                                type: "boolean"
                              server:
                                type: "string"
                            type: "object"
                          persistentVolumeClaim:
                            properties:
                              claimName:
                                type: "string"
                              readOnly:
                                type: "boolean"
                            type: "object"
                          photonPersistentDisk:
                            properties:
                              fsType:
                                type: "string"
                              pdID:
                                type: "string"
                            type: "object"
                          portworxVolume:
                            properties:
                              fsType:
                                type: "string"
                              readOnly:
                                type: "boolean"
                              volumeID:
                                type: "string"
                            type: "object"
                          projected:
                            properties:
                              defaultMode:
                                type: "integer"
                              sources:
                                items:
                                  properties:
                                    clusterTrustBundle:
                                      properties:
                                        labelSelector:
                                          properties:
                                            matchExpressions:
                                              items:
                                                properties:
                                                  key:
                                                    type: "string"
                                                  operator:
                                                    type: "string"
                                                  values:
                                                    items:
                                                      type: "string"
                                                    type: "array"
                                                type: "object"
                                              type: "array"
                                            matchLabels:
                                              additionalProperties:
                                                type: "string"
                                              type: "object"
                                          type: "object"
                                        name:
                                          type: "string"
                                        optional:
                                          type: "boolean"
                                        path:
                                          type: "string"
                                        signerName:
                                          type: "string"
                                      type: "object"
                                    configMap:
                                      properties:
                                        items:
                                          items:
                                            properties:
                                              key:
                                                type: "string"
                                              mode:
                                                type: "integer"
                                              path:
                                                type: "string"
                                            type: "object"
                                          type: "array"
                                        name:
                                          type: "string"
                                        optional:
                                          type: "boolean"
                                      type: "object"
                                    downwardAPI:
                                      properties:
                                        items:
                                          items:
                                            properties:
                                              fieldRef:
                                                properties:
                                                  apiVersion:
                                                    type: "string"
                                                  fieldPath:
                                                    type: "string"
                                                type: "object"
                                              mode:
                                                type: "integer"
                                              path:
                                                type: "string"
                                              resourceFieldRef:
                                                properties:
                                                  containerName:
                                                    type: "string"
                                                  divisor:
                                                    anyOf:
                                                    - type: "integer"
                                                    - type: "string"
                                                    x-kubernetes-int-or-string: true
                                                  resource:
                                                    type: "string"
                                                type: "object"
                                            type: "object"
                                          type: "array"
                                      type: "object"
                                    secret:
                                      properties:
                                        items:
                                          items:
                                            properties:
                                              key:
                                                type: "string"
                                              mode:
                                                type: "integer"
                                              path:
                                                type: "string"
                                            type: "object"
                                          type: "array"
                                        name:
                                          type: "string"
                                        optional:
                                          type: "boolean"
                                      type: "object"
                                    serviceAccountToken:
                                      properties:
                                        audience:
                                          type: "string"
                                        expirationSeconds:
                                          type: "integer"
                                        path:
                                          type: "string"
                                      type: "object"
                                  type: "object"
                                type: "array"
                            type: "object"
                          quobyte:
                            properties:
                              group:
                                type: "string"
                              readOnly:
                                type: "boolean"
                              registry:
                                type: "string"
                              tenant:
                                type: "string"
                              user:
                                type: "string"
                              volume:
                                type: "string"
                            type: "object"
                          rbd:
                            properties:
                              fsType:
                                type: "string"
                              image:
                                type: "string"
                              keyring:
                                type: "string"
                              monitors:
                                items:
                                  type: "string"
                                type: "array"
                              pool:
                                type: "string"
                              readOnly:
                                type: "boolean"
                              secretRef:
                                properties:
                                  name:
                                    type: "string"
                                type: "object"
                              user:
                                type: "string"
                            type: "object"
                          scaleIO:
                            properties:
                              fsType:
                                type: "string"
                              gateway:
                                type: "string"
                              protectionDomain:
                                type: "string"
                              readOnly:
                                type: "boolean"
                              secretRef:
                                properties:
                                  name:
                                    type: "string"
                                type: "object"
                              sslEnabled:
                                type: "boolean"
                              storageMode:
                                type: "string"
                              storagePool:
                                type: "string"
                              system:
                                type: "string"
                              volumeName:
                                type: "string"
                            type: "object"
                          secret:
                            properties:
                              defaultMode:
                                type: "integer"
                              items:
                                items:
                                  properties:
                                    key:
                                      type: "string"
                                    mode:
                                      type: "integer"
                                    path:
                                      type: "string"
                                  type: "object"
                                type: "array"
                              optional:
                                type: "boolean"
                              secretName:
                                type: "string"
                            type: "object"
                          storageos:
                            properties:
                              fsType:
                                type: "string"
                              readOnly:
                                type: "boolean"
                              secretRef:
                                properties:
                                  name:
                                    type: "string"
                                type: "object"
                              volumeName:
                                type: "string"
                              volumeNamespace:
                                type: "string"
                            type: "object"
                          vsphereVolume:
                            properties:
                              fsType:
                                type: "string"
                              storagePolicyID:
                                type: "string"
                              storagePolicyName:
                                type: "string"
                              volumePath:
                                type: "string"
                            type: "object"
                        type: "object"
                      type: "array"
                  type: "object"
                type: "array"
              defaultIngressTls:
                description: "Ingress TLS defaults"
                properties:
                  enabled:
                    description: "Enable TLS for this ingress"
                    type: "boolean"
                  secretName:
                    description: "Name of secret with the TLS certificate"
                    type: "string"
                type: "object"
              defaults:
                description: "Default values for components"
                properties:
                  affinityTopology:
                    description: "Default topology string to be used for PodAffinity\
                      \ rules"
                    type: "string"
                  annotations:
                    additionalProperties:
                      type: "string"
                    description: "Additional annotations for all component pods"
                    type: "object"
                  curlImage:
                    description: "Docker image with curl available"
                    type: "string"
                  env:
                    description: "Default environment variables for all pods"
                    items:
                      properties:
                        name:
                          type: "string"
                        value:
                          type: "string"
                        valueFrom:
                          properties:
                            configMapKeyRef:
                              properties:
                                key:
                                  type: "string"
                                name:
                                  type: "string"
                                optional:
                                  type: "boolean"
                              type: "object"
                            fieldRef:
                              properties:
                                apiVersion:
                                  type: "string"
                                fieldPath:
                                  type: "string"
                              type: "object"
                            resourceFieldRef:
                              properties:
                                containerName:
                                  type: "string"
                                divisor:
                                  anyOf:
                                  - type: "integer"
                                  - type: "string"
                                  x-kubernetes-int-or-string: true
                                resource:
                                  type: "string"
                              type: "object"
                            secretKeyRef:
                              properties:
                                key:
                                  type: "string"
                                name:
                                  type: "string"
                                optional:
                                  type: "boolean"
                              type: "object"
                          type: "object"
                      type: "object"
                    type: "array"
                  headlessServerLiveHostname:
                    description: "Hostname of the headless server live. If short,\
                      \ will be prefixed with the prefix and the ingressDomain appended"
                    type: "string"
                  headlessServerPreviewHostname:
                    description: "Hostname of the headless server preview. If short,\
                      \ will be prefixed with the prefix and the ingressDomain appended"
                    type: "string"
                  headlessUrlMapper:
                    description: "Name of the URL Mapper to use to create headless\
                      \ URL mappings"
                    type: "string"
                  image:
                    description: "Defaults for the image specification"
                    properties:
                      pullPolicy:
                        description: "Image pull policy (default 'IfNotPresent')"
                        type: "string"
                      registry:
                        description: "Image registry (default 'coremedia')"
                        type: "string"
                      repository:
                        description: "Image repository (default differs between components)"
                        type: "string"
                      tag:
                        description: "Image tag (default 'latest')"
                        type: "string"
                    type: "object"
                  ingressDomain:
                    description: "Default domain name for Ingresses"
                    type: "string"
                  insecureDatabasePassword:
                    description: "Use this password for all database accounts, instead\
                      \ of a random one."
                    type: "string"
                  javaOpts:
                    description: "For Java components, use these JAVA_OPTS."
                    type: "string"
                  liveUrlMapper:
                    description: "Name of the URL Mapper to use by default for live\
                      \ URL mappings"
                    type: "string"
                  managementUrlMapper:
                    description: "Name of the URL Mapper to use to create preview\
                      \ and studio URL mappings"
                    type: "string"
                  namePrefix:
                    description: "Prefix resources with this name plus '-'. Empty\
                      \ string means no prefix"
                    type: "string"
                  namePrefixForIngressDomain:
                    description: "Prefix ingress host-domains with this name plus\
                      \ '-'. Empty string means no prefix. Overrides namePrefix for\
                      \ ingress domain name generation"
                    type: "string"
                  nameSuffix:
                    description: "Suffix resources with '-' plus this name. Empty\
                      \ string means no suffix"
                    type: "string"
                  nameSuffixForIngressDomain:
                    description: "Suffix ingress host-domains with '-' plus this name.\
                      \ Empty string means no suffix. Overrides nameSuffix for ingress\
                      \ domain name generation"
                    type: "string"
                  podSecurityContext:
                    description: "Default security context for a pod"
                    properties:
                      appArmorProfile:
                        properties:
                          localhostProfile:
                            type: "string"
                          type:
                            type: "string"
                        type: "object"
                      fsGroup:
                        type: "integer"
                      fsGroupChangePolicy:
                        type: "string"
                      runAsGroup:
                        type: "integer"
                      runAsNonRoot:
                        type: "boolean"
                      runAsUser:
                        type: "integer"
                      seLinuxChangePolicy:
                        type: "string"
                      seLinuxOptions:
                        properties:
                          level:
                            type: "string"
                          role:
                            type: "string"
                          type:
                            type: "string"
                          user:
                            type: "string"
                        type: "object"
                      seccompProfile:
                        properties:
                          localhostProfile:
                            type: "string"
                          type:
                            type: "string"
                        type: "object"
                      supplementalGroups:
                        items:
                          type: "integer"
                        type: "array"
                      supplementalGroupsPolicy:
                        type: "string"
                      sysctls:
                        items:
                          properties:
                            name:
                              type: "string"
                            value:
                              type: "string"
                          type: "object"
                        type: "array"
                      windowsOptions:
                        properties:
                          gmsaCredentialSpec:
                            type: "string"
                          gmsaCredentialSpecName:
                            type: "string"
                          hostProcess:
                            type: "boolean"
                          runAsUserName:
                            type: "string"
                        type: "object"
                    type: "object"
                  previewHostname:
                    description: "Hostname of the preview CAE. If short, will be prefixed\
                      \ with the prefix and the ingressDomain appended"
                    type: "string"
                  resources:
                    description: "Default resource management (limits, requests)"
                    properties:
                      limits:
                        additionalProperties:
                          type: "string"
                        description: "Limits to resources for this components pods"
                        type: "object"
                      requests:
                        additionalProperties:
                          type: "string"
                        description: "Requests for resources for this components pods"
                        type: "object"
                    type: "object"
                  securityContext:
                    description: "Default security context for containers in a pod"
                    properties:
                      allowPrivilegeEscalation:
                        type: "boolean"
                      appArmorProfile:
                        properties:
                          localhostProfile:
                            type: "string"
                          type:
                            type: "string"
                        type: "object"
                      capabilities:
                        properties:
                          add:
                            items:
                              type: "string"
                            type: "array"
                          drop:
                            items:
                              type: "string"
                            type: "array"
                        type: "object"
                      privileged:
                        type: "boolean"
                      procMount:
                        type: "string"
                      readOnlyRootFilesystem:
                        type: "boolean"
                      runAsGroup:
                        type: "integer"
                      runAsNonRoot:
                        type: "boolean"
                      runAsUser:
                        type: "integer"
                      seLinuxOptions:
                        properties:
                          level:
                            type: "string"
                          role:
                            type: "string"
                          type:
                            type: "string"
                          user:
                            type: "string"
                        type: "object"
                      seccompProfile:
                        properties:
                          localhostProfile:
                            type: "string"
                          type:
                            type: "string"
                        type: "object"
                      windowsOptions:
                        properties:
                          gmsaCredentialSpec:
                            type: "string"
                          gmsaCredentialSpecName:
                            type: "string"
                          hostProcess:
                            type: "boolean"
                          runAsUserName:
                            type: "string"
                        type: "object"
                    type: "object"
                  servletNames:
                    description: "List of servlets the CAE serves"
                    items:
                      type: "string"
                    type: "array"
                  siteMappingProtocol:
                    description: "Default protocol for all site mapping entries"
                    type: "string"
                  storageClass:
                    description: "Name of StorageClass to be used for PersistentVolumeClaims"
                    type: "string"
                  studioHostname:
                    description: "Hostname of the Studio. If short, will be prefixed\
                      \ with the prefix and the ingressDomain appended"
                    type: "string"
                  volumeSize:
                    description: "Size of persistent data/cache volumes"
                    properties:
                      data:
                        description: "Size of data volume, in k8s quantity"
                        type: "string"
                      mongoDbData:
                        description: "DEPRECATED. Size of MongoDb data volume, in\
                          \ k8s quantity"
                        type: "string"
                      mysqlData:
                        description: "DEPRECATED. Size of MySQL data volume, in k8s\
                          \ quantity"
                        type: "string"
                      solrData:
                        description: "DEPRECATED. Size of Solr data volume, in k8s\
                          \ quantity"
                        type: "string"
                      transformedBlobCache:
                        description: "Size of transformed BLOB cache, in k8s quantity"
                        type: "string"
                      uapiBlobCache:
                        description: "Size of UAPI BLOB cache, in k8s quantity"
                        type: "string"
                    type: "object"
                type: "object"
              job:
                description: "Run this job component once from Ready"
                type: "string"
              licenseSecrets:
                description: "Names of the secrets containing the license"
                properties:
                  CMSLicense:
                    description: "Name of the secret that has the license.zip for\
                      \ the Content Management Server"
                    type: "string"
                  MLSLicense:
                    description: "Name of the secret that has the license.zip for\
                      \ the Master Live Server"
                    type: "string"
                  RLSLicense:
                    description: "Name of the secret that has the license.zip for\
                      \ the Replication Live Server"
                    type: "string"
                type: "object"
              scaling:
                anyOf:
                - type: "integer"
                - type: "string"
                description: "Scaling property for the whole CMCC resource (usually\
                  \ # of CAEs)"
                x-kubernetes-int-or-string: true
              scalingTarget:
                default: "cae"
                description: "Target for the scaling property. Default CAE."
                enum:
                - "cae"
                - "headless"
                type: "string"
              siteMappings:
                description: "Site mappings"
                items:
                  properties:
                    additionalSegments:
                      description: "Additional segments that are available through\
                        \ this hostname"
                      items:
                        type: "string"
                      type: "array"
                    fqdn:
                      description: "Fully-qualified hostname of the site; defaults\
                        \ to the simple hostname"
                      type: "string"
                    fqdnAliases:
                      description: "Optional additional FQDNs to create ingress resources\
                        \ for"
                      items:
                        type: "string"
                      type: "array"
                    hostname:
                      description: "Simple hostname of the site; used as the key for\
                        \ site mappings"
                      type: "string"
                    primarySegment:
                      description: "The site segment the root maps to"
                      type: "string"
                    primarySegmentRedirect:
                      description: "Turn on/off redirects to the primary site segment\
                        \ for the root path"
                      type: "boolean"
                    protocol:
                      description: "Protocol for this entry"
                      type: "string"
                    tls:
                      description: "TLS settings for this mapping"
                      properties:
                        enabled:
                          description: "Enable TLS for this ingress"
                          type: "boolean"
                        secretName:
                          description: "Name of secret with the TLS certificate"
                          type: "string"
                      type: "object"
                    urlMapper:
                      description: "URL mapper to use for this site"
                      type: "string"
                  type: "object"
                type: "array"
              version:
                description: "The version of the whole CMCC system. Ideally semantic\
                  \ versioning."
                type: "string"
              with:
                description: "Optional special components and configurations"
                properties:
                  cachesAsPvc:
                    description: "Create cache directories as Persistent Volume Claims"
                    type: "boolean"
                  contentImport:
                    description: "Import content, users, themes and workflows"
                    type: "boolean"
                  databases:
                    description: "Create databases and secrets for CoreMedia"
                    type: "boolean"
                  databasesOverride:
                    additionalProperties:
                      type: "boolean"
                    description: "Create databases and secrets, except for these"
                    type: "object"
                  defaultAffinityRules:
                    description: "Add default Pod Affinity/AntiAffinity rules for\
                      \ all components"
                    type: "boolean"
                  delivery:
                    description: "Create default components for the delivery stage"
                    properties:
                      maxCae:
                        anyOf:
                        - type: "integer"
                        - type: "string"
                        description: "Maximum number of CAEs per RLS"
                        x-kubernetes-int-or-string: true
                      maxHeadless:
                        anyOf:
                        - type: "integer"
                        - type: "string"
                        description: "Maximum number of Headless per RLS"
                        x-kubernetes-int-or-string: true
                      minCae:
                        anyOf:
                        - type: "integer"
                        - type: "string"
                        description: "Minimum number of CAEs per RLS"
                        x-kubernetes-int-or-string: true
                      minHeadless:
                        anyOf:
                        - type: "integer"
                        - type: "string"
                        description: "Minimum number of Headless per RLS"
                        x-kubernetes-int-or-string: true
                      rls:
                        anyOf:
                        - type: "integer"
                        - type: "string"
                        description: "Number of RLS to create"
                        x-kubernetes-int-or-string: true
                    type: "object"
                  handlerPrefixes:
                    description: "Set of URI prefixes that should be passed through\
                      \ to /blueprint/servlet unchanged"
                    items:
                      type: "string"
                    type: "array"
                  ingressAnnotations:
                    additionalProperties:
                      type: "string"
                    description: "Add these annotations to the managed Ingress resources"
                    type: "object"
                  ingressSeoHandler:
                    description: "Path to handler for robots.txt and sitemap.xml"
                    type: "string"
                  jsonLogging:
                    description: "Create and mount ConfigMap Entries / Env vars for\
                      \ JSON logging in managed Containers"
                    type: "boolean"
                  management:
                    description: "Create default components for the management stage"
                    type: "boolean"
                  resources:
                    description: "Enable setting resource limits and requests on all\
                      \ components"
                    type: "boolean"
                  responseTimeout:
                    description: "Response timeouts for different Ingress objects"
                    properties:
                      live:
                        anyOf:
                        - type: "integer"
                        - type: "string"
                        description: "Response timeout in the ingress controller for\
                          \ the live CAEs"
                        x-kubernetes-int-or-string: true
                      preview:
                        anyOf:
                        - type: "integer"
                        - type: "string"
                        description: "Response timeout in the ingress controller for\
                          \ the preview CAE"
                        x-kubernetes-int-or-string: true
                      studio:
                        anyOf:
                        - type: "integer"
                        - type: "string"
                        description: "Response timeout in the ingress controller for\
                          \ the Studio"
                        x-kubernetes-int-or-string: true
                    type: "object"
                  restartContentServer:
                    description: "Restart CMS and MLS when ContentServerReady is reached\
                      \ (after content import job, initcms)"
                    type: "boolean"
                  solrBasicAuthEnabled:
                    description: "If Solr Basic authentication is enabled (default\
                      \ 'false')"
                    type: "boolean"
                  uploadSize:
                    description: "Size of POST/PUT body in MB"
                    properties:
                      live:
                        anyOf:
                        - type: "integer"
                        - type: "string"
                        description: "Size of POST/PUT body in MB for the live CAEs"
                        x-kubernetes-int-or-string: true
                      preview:
                        anyOf:
                        - type: "integer"
                        - type: "string"
                        description: "Size of POST/PUT body in MB for the preview\
                          \ CAE"
                        x-kubernetes-int-or-string: true
                      studio:
                        anyOf:
                        - type: "integer"
                        - type: "string"
                        description: "Size of POST/PUT body in MB for the Studio"
                        x-kubernetes-int-or-string: true
                    type: "object"
                  volumeSize:
                    description: "DEPRECATED: Size of persistent data/cache volumes"
                    properties:
                      data:
                        description: "Size of data volume, in k8s quantity"
                        type: "string"
                      mongoDbData:
                        description: "DEPRECATED. Size of MongoDb data volume, in\
                          \ k8s quantity"
                        type: "string"
                      mysqlData:
                        description: "DEPRECATED. Size of MySQL data volume, in k8s\
                          \ quantity"
                        type: "string"
                      solrData:
                        description: "DEPRECATED. Size of Solr data volume, in k8s\
                          \ quantity"
                        type: "string"
                      transformedBlobCache:
                        description: "Size of transformed BLOB cache, in k8s quantity"
                        type: "string"
                      uapiBlobCache:
                        description: "Size of UAPI BLOB cache, in k8s quantity"
                        type: "string"
                    type: "object"
                type: "object"
            type: "object"
          status:
            properties:
              currentVersion:
                description: "Currently successfully deployed and running version\
                  \ (set on milestone Ready)"
                type: "string"
              error:
                description: "Error indication, or empty string"
                type: "string"
              errorMessage:
                description: "Error message if state is error"
                type: "string"
              flags:
                additionalProperties:
                  type: "string"
                description: "Additional state flags"
                type: "object"
              job:
                description: "Currently executing job"
                type: "string"
              milestone:
                description: "Which milestone has been reached in configuring all\
                  \ components"
                enum:
                - "ContentServerInitialized"
                - "ContentServerReady"
                - "DatabasesReady"
                - "DeliveryServicesReady"
                - "DeploymentStarted"
                - "Healing"
                - "ManagementReady"
                - "Never"
                - "Ready"
                - "RunJob"
                type: "string"
              scaledMessage:
                type: "string"
              scaling:
                type: "integer"
              scalingSelector:
                type: "string"
              targetVersion:
                description: "Target version during upgrade (until milestone Ready)"
                type: "string"
            type: "object"
        type: "object"
    served: true
    storage: true
    subresources:
      scale:
        labelSelectorPath: ".status.scalingSelector"
        specReplicasPath: ".spec.scaling"
        statusReplicasPath: ".status.scaling"
      status: {}
